{"version":3,"file":"static/webpack/static/development/pages/fetch-data.js.f28ec867dce192b26ec2.hot-update.js","sources":["webpack:///./pages/fetch-data/index.js"],"sourcesContent":["import fetch from 'isomorphic-unfetch'\n\nconst FetchTest = (props) => (\n    <div>\n        <h1>获取页面数据</h1>\n        {\n            props.movieLis.map(item => (\n                <li key={item.id}>{item.title}</li>\n            ))\n        }\n    </div>\n)\n\n// 使用异步静态方法getInitialProps获取数据，此静态方法能够获取所有的数据，并将其解析成一个javascript\n// 对象，然后将其作为属性附加到props对象上\n\n// 当页面初次加载时，`getInitialProps`只会在服务端执行一次。`getInitialProps`只有在路由切换的时候（如`Link`组件跳转或命名式路由跳转）时，客户端的才会被执行。\n\n// 注意：getInitialProps **不能** 在子组件上使用，只能使用在`pages`页面中。\nFetchTest.getInitialProps = async function (context) {\n    console.log(context);\n    let res = await fetch('http://localhost:3301/in_theaters')\n    let data = await res.json()\n    console.log(data);\n    // getInitialProps方法必须返回一个对象\n    return {\n        movieLis: data\n    }\n}\n\nexport default FetchTest\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAAA;AAIA;AACA;AAAA;AADA;AAJA;AAYA;AAEA;AAEA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AACA;AADA;AAGA;AACA;AACA;AALA;AAOA;AADA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAUA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}